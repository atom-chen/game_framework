{
  "code": "import * as tslib_1 from \"tslib\";\r\nimport InviteManager from \"../../../manager/InviteManager\";\r\nimport InviteItem from \"./InviteItem\";\r\nimport SoundManager from \"../../../common/SoundManager\";\r\nimport GameEvent from \"../../../games/GameEvent\";\r\nimport { MiniManeger } from \"../../../minigame/MiniManeger\";\r\nvar InviteView = (function (_super) {\r\n    tslib_1.__extends(InviteView, _super);\r\n    function InviteView() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className_key = \"InviteView\";\r\n        _this.showEnterType = BasePopAnimationEnterType.SCALE_MODE_BACK_MORE;\r\n        _this.skin = \"game/uiView/InviteFriendsView.json\";\r\n        return _this;\r\n    }\r\n    InviteView.prototype.childrenCreated = function () {\r\n        _super.prototype.childrenCreated.call(this);\r\n        this.boxInva.removeChildren();\r\n        this.panelInva.vScrollBarSkin = \"\";\r\n        this.panelInva.elasticEnabled = true;\r\n        this.panelInva.vScrollBar.elasticDistance = 100;\r\n        this.panelInva.vScrollBar.elasticBackTime = 100;\r\n    };\r\n    InviteView.prototype.onAddStage = function () {\r\n        _super.prototype.onAddStage.call(this);\r\n        if (this.isCreate) {\r\n            this.initView();\r\n            this.addEvent();\r\n        }\r\n        MiniManeger.instance.showBannerAd();\r\n    };\r\n    InviteView.prototype.addEvent = function () {\r\n        this.btn_close.on(Laya.Event.CLICK, this, this.onClose);\r\n        this.imageBtInvite.on(Laya.Event.CLICK, this, this.onInvite);\r\n        EventMgr.getInstance().addEvent(GameEvent.REFRESH_INVITE, this, this.refreshUI);\r\n    };\r\n    InviteView.prototype.initView = function () {\r\n        this.getInvitePlayer();\r\n        MiniManeger.instance.hideBlockAd();\r\n    };\r\n    InviteView.prototype.getInvitePlayer = function () {\r\n        var _this = this;\r\n        InviteManager.getInstance().selectInfo(function (code) {\r\n            if (code == '0') {\r\n                _this.refreshUI();\r\n            }\r\n        }, this);\r\n    };\r\n    InviteView.prototype.refreshUI = function () {\r\n        var dataArr = InviteManager.getInstance().getInviteAwardData();\r\n        console.log(\"InviteView >>>>>>> refreshUI\", dataArr);\r\n        for (var i = 0, len = dataArr.length; i < len; i++) {\r\n            var item = this.boxInva.getChildAt(i);\r\n            if (item) {\r\n                item.setData(dataArr[i]);\r\n            }\r\n            else {\r\n                item = new InviteItem(dataArr[i]);\r\n                item.x = 0;\r\n                item.y = (128 + 20) * i;\r\n                this.boxInva.addChild(item);\r\n            }\r\n        }\r\n    };\r\n    InviteView.prototype.onInvite = function () {\r\n        SoundManager.getInstance().playEffect(\"button\", 1);\r\n        MiniManeger.instance.bFlagDouYin = false;\r\n        MiniManeger.instance.shareAppMessage();\r\n    };\r\n    InviteView.prototype.onClose = function () {\r\n        this.removeEvent();\r\n        SoundManager.getInstance().playEffect(\"button\", 1);\r\n        MiniManeger.instance.showBlockAd();\r\n        this.removeUs();\r\n    };\r\n    InviteView.prototype.removeEvent = function () {\r\n        this.btn_close.off(Laya.Event.CLICK, this, this.onClose);\r\n        this.imageBtInvite.off(Laya.Event.CLICK, this, this.onInvite);\r\n        EventMgr.getInstance().removeEvent(GameEvent.REFRESH_INVITE, this, this.refreshUI);\r\n    };\r\n    InviteView.prototype.onRemoved = function () {\r\n        _super.prototype.onRemoved.call(this);\r\n        this.removeEvent();\r\n    };\r\n    return InviteView;\r\n}(BaseSceneUISkinPopView));\r\nexport default InviteView;\r\n",
  "references": [
    "F:/gitpro/ecy_game_framework/game_framework_ecy/game_framework_ecy/src/script/manager/InviteManager.ts",
    "F:/gitpro/ecy_game_framework/game_framework_ecy/game_framework_ecy/src/script/views/game/invite/InviteItem.ts",
    "F:/gitpro/ecy_game_framework/game_framework_ecy/game_framework_ecy/src/script/common/SoundManager.ts",
    "F:/gitpro/ecy_game_framework/game_framework_ecy/game_framework_ecy/src/script/games/GameEvent.ts",
    "F:/gitpro/ecy_game_framework/game_framework_ecy/game_framework_ecy/src/script/minigame/MiniManeger.ts"
  ]
}
