{
  "code": "import * as tslib_1 from \"tslib\";\r\nimport AnimationManager from \"../manager/AnimationManager\";\r\nimport { MiniManeger } from \"../minigame/MiniManeger\";\r\nvar GamePreLoadingView = (function (_super) {\r\n    tslib_1.__extends(GamePreLoadingView, _super);\r\n    function GamePreLoadingView() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className_key = \"GamePreLoadingView\";\r\n        _this.img_bg = new Laya.Image();\r\n        _this.img_bg.skin = \"resource/assets/preloading/loading_bg.jpg\";\r\n        _this.img_bg.width = Laya.stage.width;\r\n        _this.img_bg.height = Laya.stage.height;\r\n        _this.img_bg.x = 0;\r\n        _this.img_bg.y = 0;\r\n        _this.addChild(_this.img_bg);\r\n        _this.img_head = new Laya.Image();\r\n        if (DeviceUtil.isWXMiniGame()) {\r\n            _this.img_head.skin = \"resource/assets/preloading/loading_logo_3.png\";\r\n        }\r\n        else if (DeviceUtil.isTTMiniGame()) {\r\n            _this.img_head.skin = \"resource/assets/preloading/loading_logo_4.png\";\r\n        }\r\n        else {\r\n            if (MiniManeger.instance.isAiQiYi()) {\r\n                _this.img_head.skin = \"resource/assets/preloading/loading_logo_x.png\";\r\n            }\r\n            else {\r\n                _this.img_head.skin = \"resource/assets/preloading/loading_logo.png\";\r\n            }\r\n        }\r\n        _this.img_head.top = 300;\r\n        _this.img_head.centerX = 0;\r\n        _this.addChild(_this.img_head);\r\n        _this.img_jdt_db = new Laya.Image();\r\n        _this.img_jdt_db.skin = \"resource/assets/preloading/loading_baseboard_1.png\";\r\n        _this.img_jdt_db.sizeGrid = \"10,10,10,10\";\r\n        _this.img_jdt_db.width = 706;\r\n        _this.img_jdt_db.height = 50;\r\n        _this.img_jdt_db.bottom = 400;\r\n        _this.img_jdt_db.centerX = 0;\r\n        _this.addChild(_this.img_jdt_db);\r\n        _this.img_jdt = new Laya.Image();\r\n        _this.img_jdt.skin = \"resource/assets/preloading/loading_baseboard_2.png\";\r\n        _this.img_jdt.sizeGrid = \"10,10,10,10\";\r\n        _this.img_jdt.width = 691;\r\n        _this.img_jdt.height = 36;\r\n        _this.img_jdt.x = 8;\r\n        _this.img_jdt.centerY = 0;\r\n        _this.img_jdt_db.addChild(_this.img_jdt);\r\n        _this.img_load = new Laya.Image();\r\n        _this.img_load.skin = \"resource/assets/preloading/loading_word.png\";\r\n        _this.img_load.bottom = 300;\r\n        _this.img_load.centerX = 0;\r\n        _this.addChild(_this.img_load);\r\n        _this.aniBox = new Laya.Box();\r\n        _this.aniBox.width = 500;\r\n        _this.aniBox.height = 700;\r\n        _this.aniBox.x = Laya.stage.width / 2;\r\n        _this.aniBox.y = Laya.stage.height / 2;\r\n        _this.addChild(_this.aniBox);\r\n        _this.createSkeleton(\"resource/assets/preloading/loading.sk\").then(function (skeAni) {\r\n            _this.loadingAni = skeAni;\r\n        });\r\n        _this.progress(1, 100);\r\n        return _this;\r\n    }\r\n    GamePreLoadingView.prototype.childrenCreated = function () {\r\n    };\r\n    GamePreLoadingView.prototype.createSkeleton = function (url) {\r\n        var _this = this;\r\n        return new Promise(function (resolve) {\r\n            AnimationManager.instance.showSkeletonAnimation(url, function (skeAni) {\r\n                skeAni.player.playbackRate = 1;\r\n                skeAni.autoSize = true;\r\n                skeAni.scale(1, 1);\r\n                skeAni.play(0, true);\r\n                _this.aniBox.y = Laya.stage.height / 2 + skeAni.height / 2 + 25;\r\n                _this.aniBox.addChild(skeAni);\r\n                resolve(skeAni);\r\n            }, 1);\r\n        });\r\n    };\r\n    GamePreLoadingView.prototype.createChildren = function () {\r\n        _super.prototype.createChildren.call(this);\r\n    };\r\n    GamePreLoadingView.prototype.onAwake = function () {\r\n        _super.prototype.onAwake.call(this);\r\n        this.img_bg.scaleX = this.img_bg.scaleY = DeviceUtil.getScalePix();\r\n    };\r\n    GamePreLoadingView.prototype.progress = function (index, len) {\r\n        if (this.img_jdt) {\r\n            this.img_jdt.width = 691 * (index / len);\r\n        }\r\n    };\r\n    GamePreLoadingView.prototype.remove = function () {\r\n        Laya.timer.clearAll(this);\r\n    };\r\n    return GamePreLoadingView;\r\n}(BaseSceneUISkin));\r\nexport default GamePreLoadingView;\r\n",
  "references": [
    "F:/gitpro/ecy_game_framework/game_framework_ecy/game_framework_ecy/src/script/manager/AnimationManager.ts",
    "F:/gitpro/ecy_game_framework/game_framework_ecy/game_framework_ecy/src/script/minigame/MiniManeger.ts"
  ]
}
