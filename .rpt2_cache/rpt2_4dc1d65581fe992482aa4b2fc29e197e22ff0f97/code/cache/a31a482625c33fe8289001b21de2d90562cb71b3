{
  "code": "import * as tslib_1 from \"tslib\";\r\nimport { BaseUIScene } from \"../../base/BaseUIScene\";\r\nimport PlatformDY from \"../../../../PlatformDY\";\r\nimport MoreGameRandomGameBox713 from \"./MoreGameRandomGameBox713\";\r\nimport { GameData } from \"../../../common/GameData\";\r\nvar ShouMoreGameItem = (function (_super) {\r\n    tslib_1.__extends(ShouMoreGameItem, _super);\r\n    function ShouMoreGameItem(data, nWith, nHeight) {\r\n        var _this = _super.call(this) || this;\r\n        _this.className_key = \"ShouMoreGameItem\";\r\n        _this.skin = \"game/uiView/wecat/ShowMoreGameInfoItem.json\";\r\n        _this.nIndex = data;\r\n        _this.width = nWith;\r\n        _this.height = nHeight;\r\n        _this.pivotX = _this.width / 2;\r\n        _this.pivotY = _this.height / 2;\r\n        _this.bAni = true;\r\n        return _this;\r\n    }\r\n    ShouMoreGameItem.prototype.onAddStage = function () {\r\n        this.addEvent();\r\n        this.initView();\r\n    };\r\n    ShouMoreGameItem.prototype.onRemoved = function () {\r\n        this.removeEvent();\r\n        Laya.Tween.clearAll(this);\r\n    };\r\n    ShouMoreGameItem.prototype.setData = function (data) {\r\n        this.removeEvent();\r\n        this.addEvent();\r\n        this.nIndex = data;\r\n        this.initView();\r\n    };\r\n    ShouMoreGameItem.prototype.setAni = function (b) {\r\n        this.bAni = b;\r\n    };\r\n    ShouMoreGameItem.prototype.initView = function () {\r\n        if (this.nIndex < 0 || this.nIndex >= GameData.getInstance().weCatMiniIconsInfo.length) {\r\n            this.nIndex = GameData.getInstance().weCatMiniIconsInfo.length - 1;\r\n            if (this.nIndex < 0)\r\n                return;\r\n        }\r\n        var stData = GameData.getInstance().weCatMiniIconsInfo;\r\n        var stDataIndex = GameData.getInstance().weCatMiniIconsInfo[this.nIndex];\r\n        this.lable_name.text = GameData.getInstance().weCatMiniIconsInfo[this.nIndex].name;\r\n        this.image_icon.skin = GameData.getInstance().weCatMiniIconsInfo[this.nIndex].ad_img;\r\n        this.stGameIndex = GameData.getInstance().weCatMiniIconsInfo[this.nIndex];\r\n        this.startOperAni();\r\n    };\r\n    ShouMoreGameItem.prototype.addEvent = function () {\r\n        this.on(Laya.Event.CLICK, this, this.gotoGame);\r\n    };\r\n    ShouMoreGameItem.prototype.removeEvent = function () {\r\n        this.off(Laya.Event.CLICK, this, this.gotoGame);\r\n    };\r\n    ShouMoreGameItem.prototype.gotoGame = function () {\r\n        if (BaseConst.infos.gameInfo.isDY) {\r\n            PlatformDY.clickGame(this.stGameIndex.ad_id);\r\n        }\r\n        var self = this;\r\n        var data = {\r\n            appId: this.stGameIndex.ad_appid,\r\n            path: this.stGameIndex.url,\r\n            success: function () {\r\n                console.log(\"navigateToMiniProgram success!\");\r\n                if (BaseConst.infos.gameInfo.isDY) {\r\n                    console.log(\"self.nIndex = \", self.nIndex);\r\n                    PlatformDY.toGame(self.stGameIndex.ad_id);\r\n                }\r\n            },\r\n            fail: function (e) {\r\n                console.log(\"navigateToMiniProgram fail e =\", e);\r\n                if (DeviceUtil.isWXMiniGame()) {\r\n                    ViewManager.getInstance().showView(MoreGameRandomGameBox713);\r\n                }\r\n            }\r\n        };\r\n        platform.navigateToMiniProgram(data);\r\n    };\r\n    ShouMoreGameItem.prototype.startOperAni = function () {\r\n        if (!this.bAni) {\r\n            return;\r\n        }\r\n        this.operAni();\r\n    };\r\n    ShouMoreGameItem.prototype.operAni = function () {\r\n        var _this = this;\r\n        Laya.Tween.clearAll(this);\r\n        Laya.Tween.to(this, { rotation: -5 }, 500, null, Laya.Handler.create(this, function (args) {\r\n            Laya.Tween.to(_this, { rotation: 5 }, 500, null, Laya.Handler.create(_this, function (args) {\r\n                Laya.timer.once(0, _this, _this.operAni);\r\n            }));\r\n        }));\r\n    };\r\n    return ShouMoreGameItem;\r\n}(BaseUIScene));\r\nexport default ShouMoreGameItem;\r\n",
  "references": [
    "F:/gitpro/ecy_game_framework/game_framework_ecy/game_framework_ecy/src/script/views/base/BaseUIScene.ts",
    "F:/gitpro/ecy_game_framework/game_framework_ecy/game_framework_ecy/src/PlatformDY.ts",
    "F:/gitpro/ecy_game_framework/game_framework_ecy/game_framework_ecy/src/script/views/game/wecat/MoreGameOperRequestTwo.ts",
    "F:/gitpro/ecy_game_framework/game_framework_ecy/game_framework_ecy/src/script/views/game/wecat/MoreGameRandomGameBox713.ts",
    "F:/gitpro/ecy_game_framework/game_framework_ecy/game_framework_ecy/src/script/common/GameData.ts"
  ]
}
